# Mount Remote Folder to LXC Container

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–ø–æ–∫ (NFS/CIFS) –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Proxmox LXC —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã.

## –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –ø—Ä—è–º–æ –∏–∑ GitHub:

```bash
curl -s https://raw.githubusercontent.com/boochamoocha/proxmox-scripts/main/mount-remote-folder-to-lxc/mount-remote-folder-to-lxc.sh | bash
```

–ò–ª–∏ —Å wget:
```bash
wget -qO- https://raw.githubusercontent.com/boochamoocha/proxmox-scripts/main/mount-remote-folder-to-lxc/mount-remote-folder-to-lxc.sh | bash
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

1. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä Proxmox:
```bash
wget https://raw.githubusercontent.com/boochamoocha/proxmox-scripts/main/mount-remote-folder-to-lxc/mount-remote-folder-to-lxc.sh
```

2. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
chmod +x mount-remote-folder-to-lxc.sh
sudo ./mount-remote-folder-to-lxc.sh
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

**üè† Host-managed (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)** - –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ö–æ—Å—Ç–µ + bind mount –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –û–¥–Ω–æ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤  
- –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

**üì¶ Container-direct** - –ø—Ä—è–º–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –¢–æ–ª—å–∫–æ –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (NFS/CIFS)

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

- **NFS** - —Å–µ—Ç–µ–≤—ã–µ NFS —à–∞—Ä—ã
- **CIFS/SMB** - —Å–µ—Ç–µ–≤—ã–µ CIFS —à–∞—Ä—ã (Windows/Samba)
- **Local** - –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ö–æ—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ host-managed)

### –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞

- **Read-Write (rw)** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏
- **Read-Only (ro)** - –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–°–∫—Ä–∏–ø—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

1. **ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** - –Ω–æ–º–µ—Ä –≤–∞—à–µ–≥–æ LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è)
2. **–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã** - host-managed (1) –∏–ª–∏ container-direct (2)
3. **–¢–∏–ø –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - `nfs`, `cifs` –∏–ª–∏ `local`
4. **–ê–¥—Ä–µ—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞**:
   - –î–ª—è NFS: `192.168.1.10:/media/nfs`
   - –î–ª—è CIFS: `192.168.1.10/Movies` (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ //)
   - –î–ª—è Local: `/mnt/dsm/data` (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è)
5. **–ü—É—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–µ** - —Ç–æ–ª—å–∫–æ –¥–ª—è host-managed —Ä–µ–∂–∏–º–∞
6. **–ü—É—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ** - –Ω–∞–ø—Ä–∏–º–µ—Ä, `/mnt/media`
7. **–£—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞** - Read-Write (1) –∏–ª–∏ Read-Only (2)
8. **–î–ª—è CIFS**: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

### –í —Ä–µ–∂–∏–º–µ Host-managed:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã –Ω–∞ —Ö–æ—Å—Ç–µ (`nfs-common` –∏–ª–∏ `cifs-utils`)
3. –ú–æ–Ω—Ç–∏—Ä—É–µ—Ç —Å–µ—Ç–µ–≤—É—é –ø–∞–ø–∫—É –Ω–∞ —Ö–æ—Å—Ç Proxmox (–¥–ª—è NFS/CIFS)
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Ç–æ—á–∫–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (mp0-mp31)
5. –î–æ–±–∞–≤–ª—è–µ—Ç bind mount –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ LXC
6. –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
7. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
8. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∏—Ç —Å–≤–æ–¥–∫—É

### –í —Ä–µ–∂–∏–º–µ Container-direct:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. –°–æ–∑–¥–∞–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
4. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `/etc/fstab` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
5. –î–ª—è CIFS —Å–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
6. –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
7. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∏—Ç —Å–≤–æ–¥–∫—É

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: NFS —à–∞—Ä–∞ —á–µ—Ä–µ–∑ —Ö–æ—Å—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
```
–†–µ–∂–∏–º: host-managed (1)
ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: 102
–¢–∏–ø: nfs
–ò—Å—Ç–æ—á–Ω–∏–∫: 192.168.1.10:/media/movies
–•–æ—Å—Ç: /mnt/nfs-movies
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: /mnt/movies
–î–æ—Å—Ç—É–ø: Read-Only (2)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—Ä—è–º–æ–µ CIFS –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
```
–†–µ–∂–∏–º: container-direct (2)
ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: 103
–¢–∏–ø: cifs
–ò—Å—Ç–æ—á–Ω–∏–∫: 192.168.1.20/personal
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: /mnt/personal
–î–æ—Å—Ç—É–ø: Read-Write (1)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: john
–ü–∞—Ä–æ–ª—å: [–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥]
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –õ–æ–∫–∞–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
```
–†–µ–∂–∏–º: host-managed (1) - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
ID –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: 104
–¢–∏–ø: local
–ò—Å—Ç–æ—á–Ω–∏–∫: /mnt/dsm/data
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: /mnt/data
–î–æ—Å—Ç—É–ø: Read-Write (1)
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Proxmox VE —Å–µ—Ä–≤–µ—Ä
- –†–∞–±–æ—Ç–∞—é—â–∏–π LXC –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- –î–æ—Å—Ç—É–ø –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É NFS/CIFS —Ä–µ—Å—É—Ä—Å—É (–¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤)
- –°—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–¥–ª—è local —Ç–∏–ø–∞)
- –ü—Ä–∞–≤–∞ root –Ω–∞ —Ö–æ—Å—Ç–µ Proxmox

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–æ–ª–µ–π (—Å–∫—Ä—ã—Ç—ã–π)
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π –ø—É—Ç–µ–π

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
–ï—Å–ª–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å—Ç—Ä–æ–∫ –∏–∑ `dmesg` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–∞–º–∏:

**Host-managed —Ä–µ–∂–∏–º:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ö–æ—Å—Ç–µ
mount | grep /mnt/your-host-mount

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
pct exec CONTAINER_ID -- mount | grep /mnt/container-mount
```

**Container-direct —Ä–µ–∂–∏–º:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
pct exec CONTAINER_ID -- mount | grep /mnt/container-mount

# –ü—Ä–æ–≤–µ—Ä–∫–∞ fstab –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
pct exec CONTAINER_ID -- cat /etc/fstab
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **"–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å ID –∫–æ–º–∞–Ω–¥–æ–π `pct list`
2. **"–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"** (–¥–ª—è local) - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Ö–æ—Å—Ç–µ
3. **–û—à–∏–±–∫–∏ NFS** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å NFS —Å–µ—Ä–≤–µ—Ä–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç—ã
4. **–û—à–∏–±–∫–∏ CIFS** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤–µ—Ä—Å–∏—é –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ SMB